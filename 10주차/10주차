project 2 [í•  ì¼ ê´€ë¦¬] ì•± ë§Œë“¤ê¸° 2
(Read: í•  ì¼ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§í•˜ê¸° ~
 Delete: í•  ì¼ ì‚­ì œí•˜ê¸°)

ë°°ì—´ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë Œë”ë§í•˜ê¸°

(...)
function App() {
  (...)
  return (
    <div className="App">
      <Header />
      <TodoEditor onCreate={onCreate} />
      <TodoList todo={todo} />
    </div>
  );
}
export default App;

í•´ë‹¹ ì½”ë“œì—ì„œëŠ” ë°°ì—´ ë©”ì„œë“œ mapì„ ì´ìš©í•˜ì§€ ì•Šì•„, mapì„ ì´ìš©í•´ html ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ë§¤ ìš”ì†Œë¥¼ ë°˜ë³µí•˜ì—¬ ë Œë”ë§í•´ì•¼í•œë‹¤.

import TodoItem from "./TodoItem";
import "./TodoList.css";

const TodoList = ({ todo }) => { â‘ 
  return (
    <div className="TodoList">
      <h4>Todo List ğŸŒ±</h4>
      <input className="searchbar" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
      <div className="list_wrapper">
        {todo.map((it) => ( â‘¡
          <div>{it.content}</div>
        ))}
      </div>
    </div>
  );
};
export default TodoList;

ìœ„ ì½”ë“œì™€ ê°™ì´ mapì„ ì‚¬ìš©í•´ ìˆ˜ì •í•œë‹¤. 

mapì„ ì´ìš©í•´ ì»´í¬ë„ŒíŠ¸ ë°˜ë³µí•˜ê¸° 

<div>{it.content}</div> ì„ <TodoItem {...it} /> â‘  ì´ê±¸ë¡œ ìˆ˜ì •í•œë‹¤.
ì—¬ê¸°ì„œ itì€ itemì„ ì¤„ì—¬ì“´ ê²ƒì„.

import "./TodoItem.css";

const TodoItem = ({ id, content, isDone, createdDate }) => { â‘ 
  return (
    <div className="TodoItem">
      <div className="checkbox_col">
        <input checked={isDone} type="checkbox" /> â‘¡
      </div>
      <div className="title_col">{content}</div> â‘¢
      <div className="date_col">
        {new Date(createdDate).toLocaleDateString()} â‘£
      </div>
      <div className="btn_col">
        <button>ì‚­ì œ</button>
      </div>
    </div>
  );
};
export default TodoItem;

key ì„¤ì •í•˜ê¸°

keyë¥¼ ì„¤ì •í•´ì•¼ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. ì—†ì„ ê²½ìš°, ìƒì„±&ìˆ˜ì •&ì‚­ì œ ê°™ì€ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ê±°ë‚˜ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ íƒìƒ‰í•œë‹¤.
idë¥¼ keyë¡œ ì „ë‹¬í•˜ë„ë¡ í•œë‹¤.

import TodoItem from "./TodoItem";
import "./TodoList.css";

const TodoList = ({ todo }) => {
  return (
    <div className="TodoList">
      (...)
      <div className="list_wrapper">
        {todo.map((it) => (
          <TodoItem key={it.id} {...it} /> â‘ 
b        ))}
      </div>
    </div>
  );
};
export default TodoList;

ê²€ìƒ‰ì–´ì— ë”°ë¼ í•„í„°ë§í•˜ê¸°

ê²€ìƒ‰ ê¸°ëŠ¥ ë§Œë“¤ê¸°

import { useState } from "react"; // â‘ 
(...)

const TodoList = ({ todo }) => {
  const [search, setSearch] = useState(""); 
  const onChangeSearch = (e) => { // â‘¡
    setSearch(e.target.value);
  };

  return (
    <div className="TodoList">
      <h4>Todo List ğŸŒ±</h4>
      <input
        value={search} // â‘¢
        onChange={onChangeSearch} // â‘£
        className="searchbar"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
      />
      <div className="list_wrapper">
        {todo.map((it) => (
          <TodoItem key={it.id} {...it} />
        ))}
      </div>
    </div>
  );
};
export default TodoList;


(...)
const TodoList = ({ todo }) => {
  (...)
  const getSearchResult = () => {
    return search === ""
      ? todo
      : todo.filter((it) => it.content.includes(search));
  };

  return (
    <div className="TodoList">
      (...)
      <div className="list_wrapper">
        {getSearchResult().map((it) => ( â‘¡
          <TodoItem key={it.id} {...it} />
        ))}
      </div>
    </div>
  );
};
export default TodoList;

ëŒ€ì†Œ ë¬¸ìë¥¼ êµ¬ë³„í•˜ì§€ ì•Šê²Œ í•˜ê¸°

(...)
const getSearchResult = () => {
    return search === ""
      ? todo
      : todo.filter((it) =>
          it.content.toLowerCase().includes(search.toLowerCase()) â‘ 
        );
  };
(...)

Update

ì•„ì´í…œ ìˆ˜ì • í•¨ìˆ˜ ë§Œë“¤ê¸°

í•¨ìˆ˜ onUpdateë¥¼ ë§Œë“ ë‹¤.

(...)
function App() {
  (...)
  const onUpdate = (targetId) => { â‘ 
    setTodo(
      todo.map((it) => { â‘¡
        if (it.id === targetId) {
          return {
            ...it,
            isDone: !it.isDone,
          };
        } else {
          return it;
        }
      })
    );
  };

  return (
    <div className="App">
      <Header />
      <TodoEditor onCreate={onCreate} />
      <TodoList todo={todo} onUpdate={onUpdate} /> â‘¢
    </div>
  );
}
export default App;

ì—¬ê¸°ì„œ ì‚¼í•­ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë”

(...)
const onUpdate = (targetId) => {
    setTodo(
      todo.map((it) =>
        it.id === targetId ? { ...it, isDone: !it.isDone } : it
      )
    );
};
(...)

todolistì—ì„œ todoitem ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ onUpdateë¥¼ ì „ë‹¬í•´ì•¼í•œë‹¤. TodoList ì»´í¬ë„ŒíŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•œë‹¤,

(...)
const TodoList = ({ todo, onUpdate }) => { â‘ 
  (...)
  return (
    <div className="TodoList">
      (...)
      <div className="list_wrapper">
        {getSearchResult().map((it) => (
          <TodoItem key={it.id} {...it} onUpdate={onUpdate} /> â‘¡
        ))}
      </div>
    </div>
  );
};
export default TodoList;

ì—¬ê¸°ì„œ TodoListëŠ” í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ì•Šì§€ë§Œ propsë¡œ ë°›ì•„ ë‹¤ì‹œ ì „ë‹¬í•˜ëŠ” ë§¤ê°œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.
ì´ëŠ” ë§ˆì¹˜ propsê°€ ë•…ì„ íŒŒê³  ë‚´ë ¤ê°€ëŠ” ê²ƒ ê°™ë‹¤ê³  í•˜ì—¬  props drillingì´ë¼ê³  í•œë‹¤.
-> ë¹„íš¨ìœ¨ì ì´ì§€ë§Œ ì¼ë‹¨ ì‘ì„±í•œë‹¤.

TodoItem ì»´í¬ë„ŒíŠ¸ì—ì„œ ì•„ì´í…œ ìˆ˜ì • í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸° 

import "./TodoItem.css";

const TodoItem = ({ id, content, isDone, createdDate, onUpdate }) => { â‘ 
  const onChangeCheckbox = () => { â‘¡
    onUpdate(id);
  };

  return (
    <div className="TodoItem">
      <div className="checkbox_col">
        <input onChange={onChangeCheckbox}  // â‘¢
							 checked={isDone} type="checkbox" />
      </div>
      <div className="title_col">{content}</div>
      <div className="date_col">
        {new Date(createdDate).toLocaleDateString()}
      </div>
      <div className="btn_col">
        <button>ì‚­ì œ</button>
      </div>
    </div>
  );
};
export default TodoItem;

Delete: í•  ì¼ ì‚­ì œí•˜ê¸° 

ì•„ì´í…œ ì‚­ì œ í•¨ìˆ˜ ë§Œë“¤ê¸°

(...)
function App() {
  (...)
  const onDelete = (targetId) => { â‘ 
    setTodo(todo.filter((it) => it.id !== targetId));
  };

  return (
    <div className="App">
      <Header />
      <TodoEditor onCreate={onCreate} />
      <TodoList todo={todo} onUpdate={onUpdate} onDelete={onDelete} /> â‘¡
    </div>
  );
}
export default App;

todolistëŠ” Propsë¡œ ë°›ì€ í•¨ìˆ˜ onDeleteë¥¼ ë‹¤ì‹œ TodoItem ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•´ì•¼í•œë‹¤.

(...)
const TodoList = ({ todo, onUpdate, onDelete }) => { â‘ 
  (...)
  return (
    <div className="TodoList">
      (...)
      <div className="list_wrapper">
        {getSearchResult().map((it) => (
          <TodoItem
            key={it.id}
            {...it}
            onUpdate={onUpdate}
            onDelete={onDelete} â‘¡
          />
        ))}
      </div>
    </div>
  );
};
export default TodoList;

TodoItem ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚­ì œ í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸° 
TodoItemì—ì„œ <ì‚­ì œ> ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•¨ìˆ˜ onDeleteë¥¼ í˜¸ì¶œí•˜ë„ë¡ êµ¬í˜„í•œë‹¤.

import "./TodoItem.css";

const TodoItem = ({ id, content, isDone, createdDate, onUpdate, onDelete }) => { â‘ 
  const onChangeCheckbox = () => {
    onUpdate(id);
  };
  const onClickDelete = () => { â‘¡
    onDelete(id);
  };

  return (
    <div className="TodoItem">
      <div className="checkbox_col">
        <input onChange={onChangeCheckbox} checked={isDone} type="checkbox" />
      </div>
      <div className="title_col">{content}</div>
      <div className="date_col">
        {new Date(createdDate).toLocaleDateString()}
      </div>
      <div className="btn_col">
        <button onClick={onClickDelete}>ì‚­ì œ</button> â‘¢
      </div>
    </div>
  );
};
export default TodoItem;
